/* 
  Component: Sticky Note
  統一的便利貼樣式系統
  
  使用 % 與 cqw（container query）確保各頁面比例一致：
  - 容器尺寸可不同（editor 600px、home 400px、display 600px）
  - 內部的 padding、字體、貼紙大小皆為容器的比例
*/

.c-sticky-note {
  position: relative;
  width: 100%;
  aspect-ratio: 1 / 1;

  /* 啟用 container query，讓內部可使用 cqw 單位 */
  container-type: inline-size;
  container-name: sticky-note;

  /* 內層：形狀由外層 mask-image 控制、背景圖片 */
  &__inner {
    position: relative;
    width: 100%;
    height: 100%;
    padding: 8%;
    overflow: hidden;
    box-shadow:
      0 4px 6px rgba(0, 0, 0, 0.1),
      0 1px 3px rgba(0, 0, 0, 0.08);

    &:hover {
      box-shadow:
        0 10px 20px rgba(0, 0, 0, 0.15),
        0 3px 6px rgba(0, 0, 0, 0.1);
    }
  }

  /* 內容文字外包裝 - 支援位置、縮放、旋轉 */
  &__content-wrap {
    position: absolute;
    z-index: 1;
    transform-origin: center center;
  }

  /* 內容文字區域 - 字體大小為容器寬度的比例 */
  &__content {
    width: 100%;
    white-space: pre;
    line-height: 1.6;
    /* 使用 cqw：字體 = 容器寬度的 --font-size-pct %，預設 4%（對應 editor 24px/600px） */
    font-size: calc(var(--font-size-pct, 4) * 1cqw);
  }

  /* 貼紙元素 - 大小為文字的 2 倍（與 editor 基準一致：2em） */
  &__sticker {
    position: absolute;
    font-size: calc(var(--font-size-pct, 4) * 2 * 1cqw);
    width: calc(var(--font-size-pct, 4) * 2 * 1cqw);
    height: calc(var(--font-size-pct, 4) * 2 * 1cqw);
    pointer-events: none;
    user-select: none;
    z-index: 2;
    line-height: 1;
    display: flex;
    align-items: center;
    justify-content: center;

    &-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  }

  /* 手繪圖層 - 覆蓋在貼紙之上 */
  &__drawing {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    pointer-events: none;
    user-select: none;
    z-index: 3;
  }
}

/*
  響應式：只需調整容器尺寸，不需調整內部比例
  內部使用 % / cqw 會自動跟著縮放
*/
@media (max-width: 768px) {
  .c-sticky-note {
    max-width: 100%;
  }
}

/*
  便利貼容器變體
  用於不同頁面的尺寸設定
*/

/* Editor 畫布 - 600px 基準 */
.c-sticky-note-container--editor {
  max-width: 600px;
  width: 100%;
  margin: 0 auto;
}

/* Home 牆面 - 400px 基準，比例與 editor/display 一致（內部用 %） */
.c-sticky-note-container--wall {
  max-width: 400px;
  width: 100%;
  margin: 0 auto;
}

/* Display 大螢幕 - 600px 基準 */
.c-sticky-note-container--display {
  max-width: 600px;
  width: 100%;
  margin: 0 auto;
}

/* Preview 預覽 - 與 editor 一致 */
.c-sticky-note-container--preview {
  max-width: 600px;
  width: 100%;
  margin: 0 auto;
}
