/* 
  Component: Sticky Note
  統一的便利貼樣式系統
  
  使用 % 與 cqw（container query）確保各頁面比例一致：
  - 容器尺寸可不同（editor 600px、home 400px、display 600px）
  - 內部的 padding、字體、貼紙大小皆為容器的比例
*/

.c-sticky-note {
  position: relative;
  width: 100%;
  aspect-ratio: 4 / 3;
  overflow: hidden;

  /* 啟用 container query，讓內部可使用 cqw 單位 */
  container-type: inline-size;
  container-name: sticky-note;

  /*
    內距：使用 %（padding 的 % 以包含塊寬度為準）
    8% 確保 padding 佔便利貼寬度的固定比例
  */
  padding: 8%;
  border-radius: 2%;
  box-shadow:
    0 4px 6px rgba(0, 0, 0, 0.1),
    0 1px 3px rgba(0, 0, 0, 0.08);

  &:hover {
    box-shadow:
      0 10px 20px rgba(0, 0, 0, 0.15),
      0 3px 6px rgba(0, 0, 0, 0.1);
  }

  /* 背景圖案 - 使用 cqw 確保比例一致 */
  &[data-pattern="lines"] {
    background-image: repeating-linear-gradient(
      transparent,
      transparent 4cqw,
      rgba(0, 0, 0, 0.1) 4cqw,
      rgba(0, 0, 0, 0.1) calc(4cqw + 1px)
    );
  }

  &[data-pattern="dots"] {
    background-image: radial-gradient(
      circle at center,
      rgba(0, 0, 0, 0.1) 1px,
      transparent 1px
    );
    background-size: 10cqw 10cqw;
  }

  &[data-pattern="grid"] {
    background-image:
      repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.05) 0,
        rgba(0, 0, 0, 0.05) 1px,
        transparent 1px,
        transparent 10cqw
      ),
      repeating-linear-gradient(
        90deg,
        rgba(0, 0, 0, 0.05) 0,
        rgba(0, 0, 0, 0.05) 1px,
        transparent 1px,
        transparent 10cqw
      );
  }

  /* 內容文字區域 - 字體大小為容器寬度的比例 */
  &__content {
    width: 100%;
    height: 100%;
    word-wrap: break-word;
    white-space: pre-wrap;
    line-height: 1.6;
    position: relative;
    z-index: 1;
    /* 使用 cqw：字體 = 容器寬度的 --font-size-pct %，預設 4%（對應 editor 24px/600px） */
    font-size: calc(var(--font-size-pct, 4) * 1cqw);
  }

  /* 貼紙元素 - 大小為文字的 2 倍（與 editor 基準一致：2em） */
  &__sticker {
    position: absolute;
    font-size: calc(var(--font-size-pct, 4) * 2 * 1cqw);
    pointer-events: none;
    user-select: none;
    z-index: 2;
    line-height: 1;
  }
}

/*
  響應式：只需調整容器尺寸，不需調整內部比例
  內部使用 % / cqw 會自動跟著縮放
*/
@media (max-width: 768px) {
  .c-sticky-note {
    max-width: 100%;
  }
}

/*
  便利貼容器變體
  用於不同頁面的尺寸設定
*/

/* Editor 畫布 - 600px 基準 */
.c-sticky-note-container--editor {
  max-width: 600px;
  width: 100%;
  margin: 0 auto;
}

/* Home 牆面 - 400px 基準，比例與 editor/display 一致（內部用 %） */
.c-sticky-note-container--wall {
  max-width: 400px;
  width: 100%;
  margin: 0 auto;
}

/* Display 大螢幕 - 600px 基準 */
.c-sticky-note-container--display {
  max-width: 600px;
  width: 100%;
  margin: 0 auto;
}

/* Preview 預覽 - 與 editor 一致 */
.c-sticky-note-container--preview {
  max-width: 600px;
  width: 100%;
  margin: 0 auto;
}
